@model List<CVHub.Models.Account>
@{
    ViewData["Title"] = "Main";
}
<link rel="stylesheet" href="~/css/main.css" asp-append-version="true" />

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CVHub - Find Developers</title>
</head>
<body>
    
    <div class="page">
        <div class="prt-1">
            <div class="main">
                <p class="logo">
                    CVHub
                </p>
                <img src="/images/comp.png" alt="comp">
            </div>
            
            @if (ViewBag.IsEnter)
            {
                <div class="user-actions">
                    <a asp-controller="Account" asp-action="Index" class="btn-profile">My Profile</a>
                    <a asp-controller="Authorisation" asp-action="Logout" class="btn-logout">Logout</a>
                </div>
            }
            else
            {
                <div class="auth-actions">
                    <a asp-controller="Registration" asp-action="Index" class="btn-register">Register</a>
                    <a asp-controller="Authorisation" asp-action="Index" class="btn-login">Login</a>
                </div>
            }

            <div class="options">
                <select class="dropdown" id="ageFilter">
                    <option value="" disabled selected>Age</option>
                    <option value="16-18">16-18</option>
                    <option value="18-30">18-30</option>
                    <option value="30-50">30-50</option>
                    <option value="50+">50+</option>
                </select>

                <select class="dropdown" id="roleFilter">
                    <option value="" disabled selected>All Roles</option>
                    <option value="Frontend">Frontend Developer</option>
                    <option value="Backend">Backend Developer</option>
                    <option value="Fullstack">Fullstack Developer</option>
                    <option value="Mobile">Mobile Developer</option>
                    <option value="Game">Game Developer</option>
                    <option value="QA">Automation QA</option>
                </select>

                <select class="dropdown" id="seniorityFilter">
                    <option value="" disabled selected>All Levels</option>
                    <option value="Junior">Junior</option>
                    <option value="Middle">Middle</option>
                    <option value="Senior">Senior</option>
                </select>

            </div>
        </div>

        <div class="cards">
            @if (Model != null && Model.Any())
            {
                foreach (var account in Model)
                {
                    <div class="card" data-experience="@account.Experience" data-role="@account.Role" data-seniority="@account.Seniority" 
                        onclick="window.location.href='@Url.Action("ViewResume", "Home", new { id = account.Id })'" 
                        style="cursor: pointer;">
                        <div class="avatar">
                            <img src="@(string.IsNullOrEmpty(account.Photo) ? "/images/avatar.png" : account.Photo)" alt="avatar" style="width: 130px; height: 150px">
                        </div>
                        <div class="part">
                            <div class="about">
                                <div class="name">
                                    <p>@account.Name</p>
                                    <p>@account.Surname</p>
                                </div>
                                
                            </div>
                            <div>
                                @if (!string.IsNullOrEmpty(account.Role))
                                {
                                    <p class="work">@account.Role</p>
                                    <p>@account.Age</p>
                                }
                                <div class="languages">
                                    @foreach (var skill in account.GetSkillsList())
                                    {
                                        <div class="language">
                                            <p>@skill</p>
                                        </div>
                                    }
                                    @if (account.GetSkillsList().Count > 5)
                                    {
                                        <div class="language">
                                            <p>+@(account.GetSkillsList().Count - 5)</p>
                                        </div>
                                    }
                                </div>
                            </div>
                        </div>
                    </div>
                }
            }
            else
            {
                <div class="no-profiles">
                    <h3>No profiles found</h3>
                </div>
            }
        </div>
    </div>

    <script src="~/js/home.js"></script>
</body>
</html>